import{r as a,j as r}from"./app-DDxNY5_F.js";const E=({src:s,alt:u,className:d="",loading:n="lazy",sizes:f="100vw",onLoad:c,onError:o,fallbackSrc:p="/assets/images/hero.webp",isGalleryImage:l=!1})=>{const[h,g]=a.useState(!1),[m,S]=a.useState(!1),[e,v]=a.useState(null);a.useEffect(()=>{l&&s&&y(s)},[s,l]);const y=async i=>{try{const t=await fetch(`/api/responsive-image?path=${encodeURIComponent(i)}`);if(t.ok){const z=await t.json();v(z)}}catch(t){console.error("Failed to fetch responsive image data:",t)}},j=()=>{S(!0),c==null||c()},x=i=>{g(!0),o==null||o(i)},w=h?p:s,R=e==null?void 0:e.srcSet,b=(e==null?void 0:e.sizes)||f;return r.jsxs("div",{className:`relative overflow-hidden ${d}`,children:[r.jsx("img",{src:w,srcSet:R,sizes:b,alt:u,className:`w-full h-full object-cover transition-opacity duration-200 ${m?"opacity-100":"opacity-0"}`,loading:n,onLoad:j,onError:x,decoding:"async",fetchPriority:n==="eager"?"high":"auto"}),!m&&r.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"})]})};export{E as R};
