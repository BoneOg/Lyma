import{r as f,j as e,J as w,S as C}from"./app-D0O3NomQ.js";import{L as j}from"./layout-BC5_hjP2.js";import{C as h}from"./circle-check-big-BFPC8CcX.js";import{c as v}from"./createLucideIcon-CE5Iqqux.js";import{R as N}from"./ReservationSummary-BcTlXH2P.js";import"./proxy-C_vlYdpQ.js";import"./phone-CYLYVGmz.js";import"./users-S3VRYkbO.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_=v("CircleAlert",k);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],T=v("TriangleAlert",E),S=({open:t,title:l="Confirm Action",message:a="Are you sure you want to continue?",onCancel:s,onConfirm:c,confirmText:g="CONFIRM",cancelText:b="CANCEL",children:d,confirmDisabled:n=!1,cancelDisabled:m=!1,variant:p="default"})=>{if(f.useEffect(()=>{const r=u=>{u.key==="Escape"&&t&&s()};return t&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[t,s]),!t)return null;const i=(()=>{switch(p){case"destructive":return{icon:T,iconColor:"#ef4444",confirmBg:"#ef4444",confirmHoverBg:"#dc2626",iconBg:"#fef2f2",borderColor:"#fecaca"};case"success":return{icon:h,iconColor:"#22c55e",confirmBg:"#22c55e",confirmHoverBg:"#16a34a",iconBg:"#f0fdf4",borderColor:"#bbf7d0"};case"warning":return{icon:_,iconColor:"#f59e0b",confirmBg:"#f59e0b",confirmHoverBg:"#d97706",iconBg:"#fffbeb",borderColor:"#fed7aa"};default:return{icon:h,iconColor:"var(--color-olive)",confirmBg:"var(--color-olive)",confirmHoverBg:"var(--color-olive)",iconBg:"var(--color-beige)",borderColor:"var(--color-olive)"}}})(),o=i.icon;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 transition-all duration-300",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsx("div",{className:"relative bg-white shadow-2xl max-w-md w-full mx-2 sm:mx-4 transform transition-all duration-300 scale-100",style:{backgroundColor:"var(--color-beige)",borderRadius:"0px",border:`1px solid ${i.borderColor}`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"p-4 sm:p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:"transparent"},children:e.jsx(o,{className:"w-8 h-8 sm:w-12 sm:h-12",style:{color:i.iconColor}})}),e.jsx("h3",{className:"text-lg sm:text-2xl font-lexend font-medium mb-2 sm:mb-3 leading-tight",style:{color:"var(--color-olive)",letterSpacing:"0.05em"},children:l}),a&&e.jsx("p",{className:"text-sm sm:text-base font-lexend font-light mb-4 sm:mb-6 leading-relaxed max-w-sm mx-auto",style:{color:"var(--color-olive)",opacity:"0.8"},children:a}),d&&e.jsx("div",{className:"text-left mb-4 sm:mb-6 p-3 sm:p-4 bg-black/5",children:d}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 mt-6 sm:mt-8",children:[e.jsx("button",{onClick:s,disabled:m,className:"flex-1 py-2.5 sm:py-3.5 px-4 sm:px-6 font-lexend font-light text-sm sm:text-base transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"transparent",color:m?"hsl(var(--muted-foreground))":"var(--color-olive)",letterSpacing:"0.05em",border:"1px solid var(--color-olive)",opacity:m?"0.5":"1"},children:b}),e.jsx("button",{onClick:c,disabled:n,className:"flex-1 py-2.5 sm:py-3.5 px-4 sm:px-6 font-lexend font-light text-sm sm:text-base transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:n?"#d1d5db":i.confirmBg,color:"white",letterSpacing:"0.05em",border:"none",borderRadius:"0px",boxShadow:n?"none":"0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseEnter:r=>{n||(r.currentTarget.style.backgroundColor=i.confirmHoverBg)},onMouseLeave:r=>{n||(r.currentTarget.style.backgroundColor=i.confirmBg)},children:g})]})]})})})]})},x=t=>{if(!t)return"";const l=t.toUpperCase();if(l.includes("AM")||l.includes("PM"))return t;const a=t.split(":");if(a.length<2)return t;let s=parseInt(a[0],10);const c=a[1],g=s>=12?"PM":"AM";return s=s%12,s===0&&(s=12),`${s}:${c.padStart(2,"0")} ${g}`},B=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});function O(){const{reservation:t,specialHoursData:l}=w().props,[a,s]=f.useState(!1),[c,g]=f.useState(!1),[b,d]=f.useState(!1),n=B(t.reservation_date),m=new Date(t.reservation_date).getFullYear().toString(),p=l?`${x(l.special_start)} - ${x(l.special_end)} (Special Hours)`:t.time_slot?`${x(t.time_slot.start_time)} - ${x(t.time_slot.end_time)}`:"Time not specified",y=async()=>{var u;const o=`${t.guest_first_name} ${t.guest_last_name}`.trim(),r={to:t.guest_email,guest_name:o,phone:t.guest_phone||"",date_formatted:n,time_range:p,guest_count:t.guest_count};await fetch("/api/send-reservation-confirmation",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.content)||""},body:JSON.stringify(r)})},i=async()=>{d(!1),s(!0);try{C.post(`/checkout/${t.id}/confirm`,{},{onSuccess:async()=>{try{await y()}catch{}},onFinish:()=>s(!1)})}catch{s(!1)}};return e.jsxs(j,{children:[e.jsxs("div",{className:"min-h-screen bg-olive relative overflow-hidden",children:[e.jsxs("div",{className:"pointer-events-none select-none absolute inset-0 z-0","aria-hidden":"true",children:[e.jsx("img",{src:"/assets/images/carabao_beige.webp",alt:"",className:"absolute top-1/2 -translate-y-1/2 left-6 lg:left-12 w-32 lg:w-52 rotate-[-10deg]",style:{opacity:.08},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/fish_beige.webp",alt:"",className:"absolute top-[35%] right-4 lg:right-8 w-26 lg:w-64 rotate-[5deg] translate-x-32",style:{opacity:.07},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/grapes_beige.webp",alt:"",className:"absolute -bottom-10 left-2 lg:left-6 w-22 lg:w-36 rotate-[-1deg] -translate-x-4",style:{opacity:.06},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/shell_beige.webp",alt:"",className:"hidden lg:block absolute top-12 left-[28%] w-14 rotate-[6deg]",style:{opacity:.05},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/lime_beige.webp",alt:"",className:"hidden md:block absolute bottom-[15%] right- lg:right-75 w-12 lg:w-24 rotate-[10deg]",style:{opacity:.07},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/jar_beige.webp",alt:"",className:"hidden lg:block absolute top-[8%] right-[20%] w-14 xl:w-18 rotate-[-5deg]",style:{opacity:.045},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/bamboo_beige.webp",alt:"",className:"hidden xl:block absolute right-[25%] top-99 translate-x-12 w-22 rotate-[2deg]",style:{opacity:.045},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/coconut_beige.webp",alt:"",className:"hidden lg:block absolute bottom-[2%] right-[40%] w-14 lg:w-18 rotate-[3deg]",style:{opacity:.04},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/scallop_beige.webp",alt:"",className:"hidden md:block absolute bottom-[25%] left-[15%] w-11 lg:w-20 rotate-[-7deg]",style:{opacity:.035},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/leaf_beige.webp",alt:"",className:"hidden xl:block absolute top-20 right-[40%] w-18 -rotate-2",style:{opacity:.035},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/images/sugarcane_beige.webp",alt:"",className:"hidden md:block absolute top-40 left-0 w-14 lg:w-26 -rotate-5 translate-x-50",style:{opacity:.04},onError:o=>{o.currentTarget.style.display="none"}}),e.jsx("img",{src:"/assets/logo/lymaonly_beige.webp",alt:"",className:"absolute bottom-0 right-0 w-36 lg:w-52 rotate-[-6deg] translate-x-3 translate-y-3",style:{opacity:.035},onError:o=>{o.currentTarget.style.display="none"}})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex flex-col",children:e.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-6",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3 flex flex-col items-center justify-center mt-12",children:[e.jsx("h2",{className:"text-xl lg:text-6xl font-thin font-lexend tracking-[0.15em] whitespace-nowrap",style:{color:"var(--color-beige)"},children:"REVIEW & CONFIRM"}),e.jsx("div",{className:"w-42 h-px mx-auto",style:{backgroundColor:"hsl(var(--primary) / 0.3)"}})]}),e.jsx("div",{className:"transform transition-all duration-300 hover:scale-[1.01] ",children:e.jsx(N,{guestName:`${t.guest_first_name} ${t.guest_last_name}`,email:t.guest_email,phone:t.guest_phone,specialRequests:t.special_requests??null,dateLabel:n,yearLabel:m,timeLabel:p,guestCount:t.guest_count})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-2 max-w-1xl mx-auto",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"flex-1 py-4 px-6 font-light text-base font-lexend transition-all duration-300 transform hover:opacity-90 hover:scale-[1.02] active:scale-[0.98] hover:shadow-lg",style:{backgroundColor:"hsl(var(--primary)",color:"var(--color-beige)",letterSpacing:"0.05em",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.18)"},children:"BACK"}),e.jsx("button",{onClick:()=>d(!0),disabled:a||c,className:`flex-1 py-4 px-6 font-light text-base font-lexend transition-all duration-300 transform ${a||c?"cursor-not-allowed opacity-50 scale-95":"hover:opacity-90 hover:scale-[1.02] active:scale-[0.98] hover:shadow-lg"}`,style:{backgroundColor:a||c?"var(--color-beige) / 0.3)":"var(--color-beige-dark)",color:"var(--color-olive)",letterSpacing:"0.05em",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.18)"},children:a?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"var(--color-beige)"}}),e.jsx("span",{children:"Processing..."})]}):"CONFIRM"})]})]})})})]}),e.jsx(S,{open:b,title:"Confirm Reservation",message:"Is this information correct?",onCancel:()=>d(!1),onConfirm:i,confirmText:"CONFIRM",cancelText:"CANCEL"})]})}export{O as default};
