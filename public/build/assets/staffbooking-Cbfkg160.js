import{J as fe,r as l,j as e,t as he,S as Me,u as be,R as $e}from"./app-9dJVhxhR.js";import{M as Re}from"./menu-N4bFFRp7.js";import{A as Le,m as ue}from"./proxy-DGTE2Wci.js";import{S as le,a as ae,b as ne,c as re,d as te,C as Ee}from"./Calendar-DHbfxZ6M.js";import{n as Oe,c as ge}from"./utils-C0t1v1e2.js";import{S as Te,D as Fe,a as Ie,s as Ae,R as Ye,b as Pe}from"./reservationTable-enITsa7a.js";import{P as ze}from"./plus-hCBONSRS.js";import{X as Be}from"./x-ARMALuSL.js";import"./createLucideIcon-CsFIKWc0.js";import"./index-B1Bzae6T.js";import"./tslib.es6-CwyXKlH1.js";import"./check-BLMcImeV.js";import"./calendar-BXHJCZ0s.js";import"./clock-Bwps4MQK.js";import"./users-esAxWYDe.js";import"./circle-check-big-se9qcA0h.js";const He=({onClose:_})=>{const{url:b}=fe(),[h,d]=l.useState(!1),y=()=>{d(!0)},$=()=>{Me.post("/logout")},j=()=>{d(!1)},S=[{id:"booking",label:"Booking",href:"/staff/booking"}],p=(b.startsWith("/staff/booking"),"booking");return e.jsxs("div",{className:"fixed top-0 left-0 h-screen w-64 bg-olive text-white flex flex-col shadow-xl z-20 border-r border-olive-light",children:[e.jsx("div",{className:"p-6 border-b border-olive-light",children:e.jsx(he,{href:"/staff/booking",className:"block overflow-hidden",children:e.jsx("img",{src:"/assets/logo/lymabeige.webp",alt:"Lyma by Chef Marc",className:"w-full h-16 object-contain object-center",style:{objectPosition:"center",objectFit:"contain",transform:"scale(1)",transformOrigin:"center"}})})}),e.jsx("nav",{className:"flex-1 pb-6",children:S.map(n=>e.jsxs(he,{href:n.href,className:`w-full flex items-center px-6 py-5 text-left font-lexend font-extralight transition-all duration-200 ease-in-out ${p===n.id?"bg-[#5a5d2a] text-[#f6f5c6]":"text-[#e8e6b3] hover:bg-[#5a5d2a] hover:text-[#f6f5c6]"}`,children:[e.jsx("span",{className:"mr-3 transition-transform duration-200 ease-in-out group-hover:scale-110",children:n.id==="booking"&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsxs("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5",children:[e.jsx("path",{d:"M2 12c0-3.771 0-5.657 1.172-6.828S6.229 4 10 4h4c3.771 0 5.657 0 6.828 1.172S22 8.229 22 12v2c0 3.771 0 5.657-1.172 6.828S17.771 22 14 22h-4c-3.771 0-5.657 0-6.828-1.212S2 17.771 2 14z"}),e.jsx("path",{"stroke-linecap":"round",d:"M7 4V2.5M17 4V2.5M2.5 9h19"})]})})}),e.jsx("span",{className:"transition-all duration-200 ease-in-out font-lexend",children:n.label})]},n.id))}),e.jsx("div",{className:"border-t border-[#5a5d2a]",children:e.jsxs("button",{onClick:y,className:"relative flex items-center text-white hover:text-[#f6f5c6] hover:bg-[#5a5d2a] justify-center transition-all duration-200 ease-in-out rounded w-full font-lexend py-5",children:[e.jsx("span",{className:"absolute left-6 transform -scale-x-100 transition-transform duration-200 ease-in-out hover:scale-110",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.496 21H6.5c-1.105 0-2-1.151-2-2.571V5.57c0-1.419.895-2.57 2-2.57h7M16 15.5l3.5-3.5L16 8.5m-6.5 3.496h10"})})}),e.jsx("span",{className:"transition-all duration-200 ease-in-out font-lexend font-extralight",children:"Logout"})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background text-olive rounded p-6 shadow-lg max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl mb-4 font-lexend font-semibold tracking-tighter",children:"Confirm Logout"}),e.jsx("p",{className:"text-olive mb-6 font-lexend font-light tracking-tight",children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:j,className:"flex-1 bg-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)/0.8)] text-white border-none py-3 px-4 rounded font-regular transition-colors font-lexend cursor-pointer",children:"No"}),e.jsx("button",{onClick:$,className:"flex-1 bg-olive hover:bg-olive-light text-white border-none py-3 px-4 rounded font-regular transition-colors font-lexend cursor-pointer",children:"Yes"})]})]})})]})},Ve=({children:_})=>{const[b,h]=l.useState(!1),d=()=>{h(!b)};return e.jsxs("div",{className:"min-h-screen bg-beige-light relative",children:[!b&&e.jsx("button",{onClick:d,className:"fixed top-4 left-4 z-50 p-2 bg-olive text-beige rounded-lg shadow-lg hover:bg-olive-dark transition-colors duration-200","aria-label":"Toggle sidebar",children:e.jsx(Re,{size:24})}),e.jsx(Le,{children:b&&e.jsxs(e.Fragment,{children:[e.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-30",onClick:()=>h(!1)}),e.jsx(ue.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 left-0 h-full z-40",children:e.jsx(He,{onClose:()=>h(!1)})})]})}),e.jsx("div",{className:"pt-12",children:_})]})},Je=({isOpen:_,onClose:b,onDateSelect:h,selectedDate:d,onMonthSelect:y,selectedMonth:$,selectedYear:j})=>{const[S,f]=l.useState(()=>d?new Date(d).toLocaleString("default",{month:"long"}):new Date().toLocaleString("default",{month:"long"})),[p,n]=l.useState(()=>d?new Date(d).getFullYear():new Date().getFullYear()),[D,w]=l.useState(!1),[I,u]=l.useState(p),[B,M]=l.useState(!1),[Y,O]=l.useState(!1),k=["January","February","March","April","May","June","July","August","September","October","November","December"],L=(c,g)=>{const v=k.indexOf(c);return new Date(g,v+1,0).getDate()},H=(c,g)=>{const v=k.indexOf(c);return new Date(g,v,1).getDay()},P=c=>{const g=k.indexOf(S),v=new Date(p,g,c),C=v.getFullYear(),J=String(v.getMonth()+1).padStart(2,"0"),V=String(c).padStart(2,"0");return`${C}-${J}-${V}`},z=c=>{const g=P(c);console.log("Selected date:",g),h(g),b()},r=()=>{h(null),b()},N=()=>{const c=k.indexOf(S);c===0?(f("December"),n(p-1)):f(k[c-1])},m=()=>{const c=k.indexOf(S);c===11?(f("January"),n(p+1)):f(k[c+1])},R=()=>{y?y(S,p):h(null),b()},T=()=>{const c=L(S,p),g=H(S,p),v=[];for(let C=0;C<g;C++)v.push(e.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=c;C++){const J=P(C),V=d===J;v.push(e.jsx("div",{onClick:()=>z(C),className:`cursor-pointer transition-colors h-8 flex items-center justify-center rounded-lg font-lexend ${V?"bg-olive text-beige":"text-[#3f411a] hover:bg-olive hover:text-beige"}`,children:C},C))}return v},F=new Date().getFullYear();return Array.from({length:6},(c,g)=>F+g),_?e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background rounded p-8 shadow-lg max-w-lg w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#3f411a] font-lexend",children:"Select Date"}),e.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"Ã—"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:N,className:"p-2 rounded hover:bg-olive-light hover:text-beige-light transition-colors","aria-label":"Previous Month",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"relative mx-2 flex-1 flex justify-center",children:[e.jsxs("button",{onClick:()=>{w(!D),u(p)},className:"px-4 py-2 text-lg font-semibold text-[#3f411a] font-lexend rounded hover:bg-gray-300 transition-colors text-center whitespace-nowrap",style:{minWidth:140},children:[S," ",p]}),D&&e.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 mt-3 bg-background border border-gray-400 rounded-lg shadow-lg z-10 min-w-[380px] p-4",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("button",{onClick:()=>u(I-1),className:"absolute left-0 top-1/2 -translate-y-1/2 p-2 rounded hover:bg-olive-light hover:text-beige-light transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("span",{className:"block text-xl font-semibold text-[#3f411a] font-lexend select-none text-center",children:I}),e.jsx("button",{onClick:()=>u(I+1),className:"absolute right-0 top-1/2 -translate-y-1/2 p-2 rounded hover:bg-olive-light hover:text-beige-light transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1 mb-4",children:k.map(c=>e.jsx("button",{onClick:()=>{f(c),n(I),w(!1)},className:`flex items-center justify-center px-6 py-3 hover:bg-olive hover:text-beige cursor-pointer transition-colors rounded font-lexend text-olive text-sm ${c===S&&I===p?"bg-olive text-beige  font-medium":""}`,children:c},c))}),e.jsx("button",{onClick:()=>w(!1),className:"w-full mt-2 px-3 py-2 text-base text-olive font-lexend bg-gray-200 hover:bg-gray-300 text-gray-700 transition-colors cursor-pointer rounded",children:"Close"})]})]}),e.jsx("button",{onClick:m,className:"p-2 rounded hover:bg-olive-light hover:text-beige-light transition-colors","aria-label":"Next Month",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"grid grid-cols-7 text-center gap-y-2 mb-4",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(c=>e.jsx("div",{className:"text-base font-medium text-gray-500 font-lexend",children:c},c)),T()]}),e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:R,className:"w-full bg-olive-light hover:bg-olive text-beige py-2 px-4 rounded-lg transition-colors font-lexend text-base",children:"Select This Month"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors font-lexend text-base",children:"Clear Date"}),e.jsx("button",{onClick:b,className:"flex-1 bg-olive hover:bg-olive-dark text-beige py-2 px-4 rounded-lg transition-colors font-lexend text-base",children:"Close"})]})]})}):null},qe=({isOpen:_,onClose:b,onConfirm:h,action:d,reservationName:y})=>{const $=()=>d==="complete"?"Complete Reservation":"Cancel Reservation",j=()=>d==="complete"?e.jsxs(e.Fragment,{children:["Are you sure you want to ",e.jsx("span",{className:"font-bold text-green-700 ",children:"complete"})," the reservation for ",e.jsx("span",{className:"font-bold ",children:y}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to ",e.jsx("span",{className:"font-bold text-red-700 ",children:"cancel"})," the reservation for ",e.jsx("span",{className:"font-bold",children:y}),"?"]});return _?e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background text-olive rounded p-6 shadow-lg max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl mb-4 font-lexend font-semibold tracking-tighter",children:$()}),e.jsx("p",{className:"text-olive mb-6 font-lexend font-light tracking-tight",children:j()}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:b,className:"flex-1 bg-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)/0.8)] text-white border-none py-3 px-4 rounded font-regular transition-colors font-lexend cursor-pointer",children:"No"}),e.jsx("button",{onClick:h,className:"flex-1 bg-olive hover:bg-olive-light text-white border-none py-3 px-4 rounded font-regular transition-colors font-lexend cursor-pointer",children:"Yes"})]})]})}):null},Ue=({isOpen:_,onClose:b,onReservationCreated:h,timeSlots:d,systemSettings:y})=>{const{showNotification:$}=be(),[j,S]=l.useState(new Date().getMonth()),[f,p]=l.useState(new Date().getFullYear()),[n,D]=l.useState(d.length>0?d[0].id:null),[w,I]=l.useState(y.min_guest_size||1),[u,B]=l.useState(null),[M,Y]=l.useState(""),[O,k]=l.useState(""),[L,H]=l.useState(""),[P,z]=l.useState(""),[r,N]=l.useState(""),[m,R]=l.useState([]),[T,F]=l.useState([]),[c,g]=l.useState([]),[v,C]=l.useState([]),[J,V]=l.useState({}),[Q,X]=l.useState(!1),Z=["January","February","March","April","May","June","July","August","September","October","November","December"],oe=[new Date().getFullYear(),new Date().getFullYear()+1,new Date().getFullYear()+2],a=new Date,x=new Date(a.getTime()+y.max_advance_booking_days*24*60*60*1e3);l.useEffect(()=>{E(),U(),ee()},[j,f]);const E=async()=>{try{const s=await(await fetch(`/reservations/fully-booked-dates?month=${j+1}&year=${f}`)).json();g(s.fully_booked_dates||[])}catch(t){console.error("Error fetching fully booked dates:",t),g([])}},U=async()=>{try{const s=await(await fetch(`/reservations/closed-dates?month=${j+1}&year=${f}`)).json();C(s.closed_dates||[])}catch(t){console.error("Error fetching closed dates:",t),C([])}},ee=async()=>{try{const s=await(await fetch(`/reservations/special-hours-dates?month=${j+1}&year=${f}`)).json(),o={};s.special_hours_data&&s.special_hours_data.forEach(i=>{o[i.day]={special_start:i.special_start,special_end:i.special_end}}),V(o)}catch(t){console.error("Error fetching special hours dates:",t),V({})}},W=t=>{const s=new Date(f,j,t);s.setHours(0,0,0,0);const o=new Date;return o.setHours(0,0,0,0),!!(s<o||s>x||v.includes(t))},pe=t=>c.includes(t),we=t=>v.includes(t),xe=t=>J.hasOwnProperty(t),ie=t=>J[t]||null,se=t=>{if(!t)return"";const s=t.toUpperCase();if(s.includes("AM")||s.includes("PM"))return t;const o=t.split(":");if(o.length<2)return t;let i=parseInt(o[0],10);const q=o[1],G=i>=12?"PM":"AM";return i=i%12,i===0&&(i=12),`${i}:${q.padStart(2,"0")} ${G}`},ve=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),je=async t=>{var G;const s=ve(t.reservation_date);let o="Time not specified";if(u){const A=ie(u);if(A&&(n==="special-hours"||!t.time_slot_id))o=`${se(A.special_start)} - ${se(A.special_end)} (Special Hours)`;else if(t.time_slot_id){const K=d.find(De=>De.id===t.time_slot_id);K&&(o=K.start_time_formatted&&K.end_time_formatted?`${K.start_time_formatted} - ${K.end_time_formatted}`:`${se(K.start_time)} - ${se(K.end_time)}`)}}const i=`${t.guest_first_name} ${t.guest_last_name}`.trim(),q={to:t.guest_email,guest_name:i,phone:t.guest_phone||"",date_formatted:s,time_range:o,guest_count:t.guest_count};try{await fetch("/api/send-reservation-confirmation",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((G=document.querySelector('meta[name="csrf-token"]'))==null?void 0:G.getAttribute("content"))||""},body:JSON.stringify(q)})}catch{}},ye=async t=>{try{const o=await(await fetch(`/reservations/occupied-time-slots?date=${t}`)).json();R(o.occupied_time_slots||[]),F(o.disabled_time_slots||[])}catch(s){console.error("Error fetching occupied time slots:",s),R([]),F([])}},Ne=t=>{B(t);const s=`${f}-${String(j+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`;if(ye(s),xe(t))D("special-hours");else{const o=d.find(i=>!m.includes(i.id)&&!T.includes(i.id));D((o==null?void 0:o.id)||null)}};l.useEffect(()=>{if(n&&typeof n=="number"&&(m.includes(n)||T.includes(n))){const t=d.find(s=>!m.includes(s.id)&&!T.includes(s.id));D((t==null?void 0:t.id)||null)}},[m,T,n,d]);const Se=()=>{const t=[];if(u){const o=new Date(f,j,u).toLocaleDateString("en-US",{weekday:"short"}),i=Z[j];t.push(`${i} ${u} (${o})`)}if(n)if(n==="special-hours"){const s=ie(u);s&&t.push(`${s.special_start} - ${s.special_end} (Special Hours)`)}else{const s=d.find(o=>o.id===n);s&&t.push(`${s.start_time_formatted} - ${s.end_time_formatted}`)}return t.push(`${w} Guest${w>1?"s":""}`),!u&&!n?"Select date and time":t.join(", ")},ce=()=>u&&n&&(n==="special-hours"||!m.includes(n)&&!T.includes(n))&&M.trim()&&O.trim()&&P.trim(),de=(t,s)=>{/^[a-zA-Z\s]*$/.test(t)&&s(t)},Ce=t=>{H(t)},ke=t=>{/^[\d\s\-\+]*$/.test(t)&&t.length<=15&&z(t)},_e=async()=>{var t;if(ce()){X(!0);try{const s={guest_first_name:M.trim(),guest_last_name:O.trim(),guest_email:L.trim(),guest_phone:P.trim(),special_requests:r.trim(),reservation_date:`${f}-${String(j+1).padStart(2,"0")}-${String(u).padStart(2,"0")}`,time_slot_id:n==="special-hours"?null:n,guest_count:w,is_special_hours:n==="special-hours"},i=await(await fetch("/staff/api/quick-reservations",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify(s)})).json();if(i.success){if($("Reservation created successfully!","success"),L.trim())try{await je(i.reservation??s)}catch{}h&&h(),me()}else $(i.message||"Failed to create reservation","error")}catch(s){console.error("Error creating reservation:",s),$("An error occurred while creating the reservation","error")}finally{X(!1)}}},me=()=>{S(new Date().getMonth()),p(new Date().getFullYear()),D(d.length>0?d[0].id:null),I(y.min_guest_size||1),B(null),Y(""),k(""),H(""),z(""),N(""),R([]),F([]),g([]),C([]),V({}),X(!1),b()};return _?e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50 p-2 sm:p-3 md:p-4 lg:p-4 xl:p-4 2xl:p-4",children:e.jsx("div",{className:"bg-[#3f411a] rounded shadow-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6 md:p-8 lg:p-8 xl:p-10 2xl:p-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-5 md:mb-6 lg:mb-6 xl:mb-6 2xl:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-2xl lg:text-3xl xl:text-3xl 2xl:text-3xl text-beige font-lexend font-extralight",children:"QUICK RESERVATION"}),e.jsx("button",{onClick:me,className:"text-white cursor-pointer text-xl sm:text-2xl md:text-2xl lg:text-3xl xl:text-3xl 2xl:text-3xl font-bold hover:text-beige transition-colors",children:"Ã—"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-6 lg:gap-8 xl:gap-8 2xl:gap-8",children:[e.jsx("div",{className:"flex flex-col justify-start h-full",children:e.jsxs("div",{className:"flex flex-col justify-start h-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-2 md:space-x-3 lg:space-x-4 xl:space-x-4 2xl:space-x-4 mb-6 sm:mb-8 md:mb-8 lg:mb-10 xl:mb-10 2xl:mb-10",children:[e.jsxs("div",{className:"relative w-full sm:w-32 md:w-36 lg:w-40 xl:w-40 2xl:w-40",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-beige",children:"Month"}),e.jsxs(le,{value:j.toString(),onValueChange:t=>{S(parseInt(t)),B(null)},children:[e.jsx(ae,{className:"bg-transparent border-b border-white text-white w-full pr-8 py-2 text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend rounded-none border-t-0 border-l-0 border-r-0 focus:ring-0 focus:ring-offset-0 px-0 h-auto",children:e.jsx(ne,{})}),e.jsx(re,{className:"bg-[#3f411a] border-white text-white max-h-none overflow-y-visible",children:Z.map((t,s)=>e.jsx(te,{value:s.toString(),className:"bg-[#3f411a] font-extralight font-lexend text-white hover:bg-[#5a5d2a] focus:bg-[#5a5d2a]",children:t},t))})]})]}),e.jsxs("div",{className:"relative w-full sm:w-24 md:w-26 lg:w-28 xl:w-28 2xl:w-28",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-beige",children:"Year"}),e.jsxs(le,{value:f.toString(),onValueChange:t=>p(parseInt(t)),children:[e.jsx(ae,{className:"bg-transparent border-b border-white text-white w-full pr-8 py-2 text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend rounded-none border-t-0 border-l-0 border-r-0 focus:ring-0 focus:ring-offset-0 px-0 h-auto",children:e.jsx(ne,{})}),e.jsx(re,{className:"bg-[#3f411a] border-white text-white",children:oe.map(t=>e.jsx(te,{value:t.toString(),className:"bg-[#3f411a] font-extralight font-lexend text-white hover:bg-[#5a5d2a] focus:bg-[#5a5d2a]",children:t},t))})]})]}),e.jsxs("div",{className:"relative w-full sm:w-32 md:w-36 lg:w-40 xl:w-40 2xl:w-40",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-beige",children:"Time"}),e.jsxs(le,{value:(n==null?void 0:n.toString())||"",onValueChange:t=>{D(t==="special-hours"?"special-hours":parseInt(t))},children:[e.jsx(ae,{className:`bg-transparent border-b border-white text-white w-full font-extralight font-lexend rounded-none border-t-0 border-l-0 border-r-0 focus:ring-0 focus:ring-offset-0 px-0 h-auto text-left ${n==="special-hours"?"py-3 text-xs":"py-2 text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base"}`,children:e.jsx(ne,{children:(()=>{if(n==="special-hours")return"Special Hours";if(n&&typeof n=="number"){const t=d.find(s=>s.id===n);return t?`${t.start_time_formatted} - ${t.end_time_formatted}`:""}return""})()})}),e.jsx(re,{className:"bg-[#3f411a] border-white text-white",children:(()=>{const t=u?ie(u):null;return t?e.jsxs(te,{value:"special-hours",className:"bg-[#3f411a] font-extralight font-lexend text-white hover:bg-[#5a5d2a] focus:bg-[#5a5d2a]",children:[t.special_start," - ",t.special_end," (Special Hours)"]}):d.map(s=>{const o=m.includes(s.id),i=T.includes(s.id),q=o||i;return e.jsxs(te,{value:s.id.toString(),className:`bg-[#3f411a] font-extralight font-lexend focus:bg-[#5a5d2a] relative ${q?"cursor-not-allowed":"hover:bg-[#5a5d2a]"} ${o?"!opacity-100":""} ${i?"!opacity-100":""}`,disabled:q,children:[e.jsxs("span",{className:o?"text-[#D4847C]":i?"text-[#5295bb]":"text-white",children:[s.start_time_formatted," - ",s.end_time_formatted]}),o&&e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-[#D4847C] rounded-full opacity-100"}),i&&!o&&e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-[#5295bb] rounded-full opacity-100"})]},s.id)})})()})]})]}),e.jsxs("div",{className:"relative w-full sm:w-20 md:w-22 lg:w-24 xl:w-24 2xl:w-24",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-beige",children:"Guests"}),e.jsxs(le,{value:w.toString(),onValueChange:t=>I(parseInt(t)),children:[e.jsx(ae,{className:"bg-transparent border-b border-white text-white w-full pr-8 py-2 text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend rounded-none border-t-0 border-l-0 border-r-0 focus:ring-0 focus:ring-offset-0 px-0 h-auto",children:e.jsx(ne,{children:w})}),e.jsx(re,{className:"bg-[#3f411a] border-white text-white",children:(()=>{const t=y.min_guest_size||1,s=y.max_guest_size||10,o=[];for(let i=t;i<=s;i++)o.push(i);return o.map(i=>e.jsx(te,{value:i.toString(),className:"bg-[#3f411a] font-extralight font-lexend text-white hover:bg-[#5a5d2a] focus:bg-[#5a5d2a]",children:i},i))})()})]})]})]}),e.jsx(Ee,{selectedMonth:j,selectedYear:f,selectedDate:u,onDateSelect:Ne,isDateDisabled:W,isDateFullyBooked:pe,isDateClosed:we,isDateSpecialHours:xe,months:Z,className:"grid grid-cols-7 text-center gap-y-4 sm:gap-y-5 md:gap-y-6 lg:gap-y-7 xl:gap-y-7 2xl:gap-y-7 text-white text-sm sm:text-base md:text-base lg:text-lg xl:text-lg 2xl:text-lg",weekdayClassName:()=>"h-6 sm:h-7 md:h-7 lg:h-8 xl:h-8 2xl:h-8 flex items-center justify-center font-lexend text-beige font-medium tracking-wide opacity-80 text-xs sm:text-sm md:text-sm lg:text-sm xl:text-sm 2xl:text-sm",dayClassName:(t,{isDisabled:s,isFullyBooked:o,isSelected:i,isClosed:q,isSpecialHours:G})=>{let A="transition-colors h-6 sm:h-7 md:h-7 lg:h-8 xl:h-8 2xl:h-8 w-full flex items-center justify-center font-lexend font-light relative";return q?A+=" text-[#D4847C] cursor-not-allowed":o?A+=" text-[#6B7A5E] cursor-not-allowed":i&&G?A+=" text-[#C5A572] font-semibold":i?A+=" text-[#3f411a] font-semibold":G?A+=" text-[#C5A572] hover:text-beige-dark cursor-pointer":s?A+=" text-gray-400 cursor-not-allowed":A+=" text-white hover:text-beige-dark cursor-pointer",A},animatedSelection:!0}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4 md:space-x-5 lg:space-x-6 xl:space-x-6 2xl:space-x-6 mt-4 sm:mt-5 md:mt-5 lg:mt-6 xl:mt-6 2xl:mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 sm:w-2.5 md:w-3 lg:w-3 xl:w-3 2xl:w-3 h-2 sm:h-2.5 md:h-3 lg:h-3 xl:h-3 2xl:h-3 rounded-full bg-[#6B7A5E]"}),e.jsx("span",{className:"text-white/80 font-light font-lexend text-xs sm:text-xs md:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"Fully Booked"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 sm:w-2.5 md:w-3 lg:w-3 xl:w-3 2xl:w-3 h-2 sm:h-2.5 md:h-3 lg:h-3 xl:h-3 2xl:h-3 rounded-full bg-[#C5A572]"}),e.jsx("span",{className:"text-white/80 font-light font-lexend text-xs sm:text-xs md:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"Special Hours"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 sm:w-2.5 md:w-3 lg:w-3 xl:w-3 2xl:w-3 h-2 sm:h-2.5 md:h-3 lg:h-3 xl:h-3 2xl:h-3 rounded-full bg-[#D4847C]"}),e.jsx("span",{className:"text-white/80 font-light font-lexend text-xs sm:text-xs md:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"Closed"})]})]})]})}),e.jsxs("div",{className:"flex flex-col justify-between h-full self-stretch w-full max-w-md lg:ml-auto md:mx-auto",children:[e.jsxs("div",{className:"space-y-6 sm:space-y-6 md:space-y-7 lg:space-y-8 xl:space-y-8 2xl:space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 sm:mb-2 md:mb-3 lg:mb-3 xl:mb-3 2xl:mb-3 text-white",children:"When"}),e.jsx("div",{className:"border-b border-white pb-2 text-base sm:text-base md:text-base lg:text-lg xl:text-lg 2xl:text-lg font-extralight font-lexend text-white",children:Se()})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 md:space-x-5 lg:space-x-6 xl:space-x-6 2xl:space-x-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-white",children:"First Name"}),e.jsx("input",{type:"text",value:M,onChange:t=>de(t.target.value,Y),className:"w-full bg-transparent border-b border-white text-white pb-2 outline-none text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend",placeholder:"First name",required:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-white",children:"Last Name"}),e.jsx("input",{type:"text",value:O,onChange:t=>de(t.target.value,k),className:"w-full bg-transparent border-b border-white text-white pb-2 outline-none text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend",placeholder:"Last name",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-white",children:"Email (Optional)"}),e.jsx("input",{type:"email",value:L,onChange:t=>Ce(t.target.value),className:"w-full bg-transparent border-b border-white text-white pb-2 outline-none text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend",placeholder:"Enter your email (optional)"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 md:space-x-5 lg:space-x-6 xl:space-x-6 2xl:space-x-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-white",children:"Phone Number"}),e.jsx("input",{type:"tel",value:P,onChange:t=>ke(t.target.value),className:"w-full bg-transparent border-b border-white text-white pb-2 outline-none text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend",placeholder:"+639543846071",required:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend mb-2 text-white",children:"Special Requests"}),e.jsx("input",{type:"text",value:r,onChange:t=>N(t.target.value),className:"w-full bg-transparent border-b border-white text-white pb-2 outline-none text-sm sm:text-sm md:text-base lg:text-base xl:text-base 2xl:text-base font-extralight font-lexend",placeholder:"ex. Food Allergies"})]})]})]}),e.jsx("button",{onClick:_e,disabled:!ce()||Q,className:`block w-full text-center font-light font-lexend py-3 sm:py-3 md:py-3 lg:py-4 xl:py-4 2xl:py-4 mt-6 sm:mt-6 md:mt-7 lg:mt-8 xl:mt-8 2xl:mt-8 text-base sm:text-base md:text-base lg:text-lg xl:text-lg 2xl:text-lg transition duration-200 uppercase ${ce()&&!Q?"bg-beige-dark active:bg-beige text-[#3f411a] hover:opacity-90 hover:scale-[1.02] active:scale-[0.98] hover:shadow-lg cursor-pointer tracking-wider":"bg-gray-400 text-gray-600 cursor-not-allowed tracking-wider"}`,children:Q?"CREATING RESERVATION...":"CREATE RESERVATION"})]})]})]})})}):null},We=({status:_,onReservationUpdate:b,endpointPrefix:h,timeSlots:d,systemSettings:y})=>{const{showNotification:$}=be(),[j,S]=l.useState([]),[f,p]=l.useState(null),[n,D]=l.useState(!1),[w,I]=l.useState(""),[u,B]=l.useState("date-asc"),[M,Y]=l.useState(()=>new Date().toISOString().split("T")[0]),[O,k]=l.useState(null),[L,H]=l.useState(null),[P,z]=l.useState(!1),[r,N]=l.useState(!1),[m,R]=l.useState(null),[T,F]=l.useState(!1);l.useEffect(()=>{D(!0),fetch(`${h||"/staff"}/api/reservations?status=${_}`).then(a=>a.json()).then(a=>{let x=a.reservations||[];_==="all"&&(x=x.filter(E=>E.status!=="pending")),S(x),D(!1)})},[_,h]),l.useCallback(a=>{p(f===a?null:a)},[f]);const c=l.useMemo(()=>j.filter(a=>{const x=a.guest_first_name.toLowerCase().includes(w.toLowerCase())||a.guest_last_name.toLowerCase().includes(w.toLowerCase())||a.email.toLowerCase().includes(w.toLowerCase())||a.phone.toLowerCase().includes(w.toLowerCase());let E=!0;if(M)E=Oe(a.reservation_date)===M;else if(O&&L){const U=new Date(a.reservation_date),ee=U.toLocaleString("default",{month:"long"}),W=U.getFullYear();E=ee===O&&W===L}return x&&E}),[j,w,M,O,L]),g=l.useMemo(()=>[...c].sort((a,x)=>{switch(u){case"firstName-asc":return a.guest_first_name.localeCompare(x.guest_first_name);case"firstName-desc":return x.guest_first_name.localeCompare(a.guest_first_name);case"lastName-asc":return a.guest_last_name.localeCompare(x.guest_last_name);case"lastName-desc":return x.guest_last_name.localeCompare(a.guest_last_name);case"timeSlot-am-pm":return ge(a.time_slot||"",x.time_slot||"");case"timeSlot-pm-am":return ge(x.time_slot||"",a.time_slot||"");case"guest-asc":return a.guest_count-x.guest_count;case"guest-desc":return x.guest_count-a.guest_count;case"date-asc":return a.reservation_date.localeCompare(x.reservation_date);case"date-desc":return x.reservation_date.localeCompare(a.reservation_date);default:return 0}}),[c,u]),v=l.useCallback((a,x,E)=>{R({type:"complete",reservationId:a,reservationName:`${x} ${E}`}),N(!0)},[]),C=l.useCallback((a,x,E)=>{R({type:"cancel",reservationId:a,reservationName:`${x} ${E}`}),N(!0)},[]),J=l.useCallback(async()=>{var a;if(m)try{const x=m.type==="complete"?`${h||"/staff"}/api/reservations/${m.reservationId}/complete`:`${h||"/staff"}/api/reservations/${m.reservationId}/cancel`,U=await(await fetch(x,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""}})).json();U.success?(S(ee=>ee.map(W=>W.id===m.reservationId?{...W,status:m.type==="complete"?"completed":"cancelled"}:W)),$(`Reservation ${m.type==="complete"?"completed":"cancelled"} successfully!`,"success"),b&&b()):$(`Failed to ${m.type} reservation: ${U.message}`,"error")}catch{$(`Failed to ${m.type} reservation. Please try again.`,"error")}finally{N(!1),R(null)}},[m,h,b,$]),V=l.useCallback(()=>{N(!1),R(null)},[]),Q=l.useCallback(a=>{Y(a),k(null),H(null)},[]),X=l.useCallback((a,x)=>{k(a),H(x),Y(null)},[]),Z=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),oe=()=>M?Z(M):O&&L?`${O} ${L}`:"Date";return e.jsxs("div",{className:"bg-white border border-primary-light h-auto min-h-[520px] shadow p-3 sm:p-4 md:p-5 lg:p-6 xl:p-6 2xl:p-6 flex flex-col",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(Te,{value:w,onChange:a=>I(a.target.value),placeholder:"Search by guest name, email, or number...",className:"w-full"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3",children:[e.jsx("div",{className:"sm:col-span-3",children:e.jsx(Fe,{onClick:()=>z(!0),label:oe(),className:"w-full"})}),e.jsx("div",{className:"sm:col-span-6",children:e.jsx(Ie,{value:u,onChange:B,options:Ae,className:"w-full"})}),e.jsx("div",{className:"sm:col-span-3",children:e.jsxs("button",{onClick:()=>F(!0),className:"w-full flex items-center justify-center gap-2 h-10 border-primary-light border bg-primary-light text-olive font-lexend font-light px-3 py-2 transition-all duration-300 hover:scale-[1.02] focus:ring-1 focus:ring-olive focus:outline-none text-xs sm:text-xs md:text-xs lg:text-sm xl:text-sm 2xl:text-sm",children:[e.jsx(ze,{size:16,className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:hidden md:inline lg:inline xl:inline 2xl:inline",children:"New Reservation"}),e.jsx("span",{className:"md:hidden lg:hidden xl:hidden 2xl:hidden",children:"New"})]})})]})]}),n?e.jsx("div",{className:"text-center py-8 font-lexend font-light text-gray-500",children:"Loading..."}):g.length===0?e.jsx("div",{className:"text-center py-8 font-lexend text-gray-500",children:"No reservations found."}):e.jsx("div",{className:"w-full flex-1 min-h-0 overflow-visible",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-3 sm:gap-4 md:gap-4 lg:gap-4 xl:gap-4 2xl:gap-4 pb-4",children:g.map(a=>e.jsx(Ye,{reservation:a,onComplete:()=>v(a.id,a.guest_first_name,a.guest_last_name),onCancel:()=>C(a.id,a.guest_first_name,a.guest_last_name)},a.id))})}),e.jsx(Je,{isOpen:P,onClose:()=>z(!1),onDateSelect:Q,onMonthSelect:X,selectedDate:M,selectedMonth:O,selectedYear:L}),e.jsx(qe,{isOpen:r,onClose:V,onConfirm:J,action:(m==null?void 0:m.type)||"complete",reservationName:(m==null?void 0:m.reservationName)||""}),d&&y&&e.jsx(Ue,{isOpen:T,onClose:()=>F(!1),onReservationCreated:()=>{D(!0),fetch(`${h||"/staff"}/api/reservations?status=${_}`).then(a=>a.json()).then(a=>{let x=a.reservations||[];_==="all"&&(x=x.filter(E=>E.status!=="pending")),S(x),D(!1)})},timeSlots:d,systemSettings:y})]})},Ge=[{label:`CONFIRMED
RESERVATION`,color:"border-primary-light bg-primary-light text-primary",activeColor:"border-olive bg-olive text-white ring-2 ring-primary ring-offset-2",status:"confirmed"},{label:`COMPLETED
RESERVATION`,color:"border-primary-light bg-primary-light text-primary",activeColor:"border-olive bg-olive text-white ring-2 ring-primary ring-offset-2",status:"completed"},{label:`CANCELLED
RESERVATION`,color:"border-primary-light bg-primary-light text-primary",activeColor:"border-olive bg-olive text-white ring-2 ring-primary ring-offset-2",status:"cancelled"},{label:`ALL
RESERVATION`,color:"border-primary-light bg-primary-light text-primary",activeColor:"border-olive bg-olive text-white ring-2 ring-primary ring-offset-2",status:"all"}],mt=()=>{const{timeSlots:_,systemSettings:b}=fe().props,[h,d]=l.useState({confirmed:0,completed:0,cancelled:0,all:0}),[y,$]=l.useState("all"),[j,S]=l.useState(!1),[f,p]=l.useState(!1),[n,D]=l.useState(new Date().getMonth()),[w,I]=l.useState(new Date().getDate()),[u,B]=l.useState(!1),M=new Date().getFullYear(),Y=["January","February","March","April","May","June","July","August","September","October","November","December"],O=(r,N)=>new Date(N,r+1,0).getDate(),k=()=>{fetch("/staff/api/reservation-counts").then(r=>r.json()).then(r=>{d({confirmed:r.confirmed||0,completed:r.completed||0,cancelled:r.cancelled||0,all:r.all||0})}).catch(r=>{console.error("Error fetching counts:",r)})};l.useEffect(()=>{k()},[]);const L=()=>{k()},H=()=>{p(!0)},P=async()=>{var T;const r=M,N=String(n+1).padStart(2,"0"),m=String(w).padStart(2,"0"),R=`${r}-${N}-${m}`;B(!0);try{const F=await fetch("/staff/api/download-reservations-pdf",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((T=document.querySelector('meta[name="csrf-token"]'))==null?void 0:T.getAttribute("content"))||""},body:JSON.stringify({date:R})});if(F.ok){const c=await F.blob(),g=window.URL.createObjectURL(c),v=document.createElement("a");v.href=g,v.download=`reservations_${R}.pdf`,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(g),document.body.removeChild(v),p(!1)}else console.error("Download failed")}catch(F){console.error("Download error:",F)}finally{B(!1)}},z=()=>{p(!1)};return e.jsxs(Ve,{children:[e.jsxs("div",{className:"flex flex-col items-center px-6 sm:px-8 md:px-10 lg:px-12 xl:px-12 2xl:px-12 py-6 sm:py-8 md:py-10 lg:py-10 xl:py-10 2xl:py-10",children:[e.jsx("p",{className:"text-olive text-4xl sm:text-5xl md:text-6xl lg:text-6xl xl:text-7xl 2xl:text-7xl font-thin font-lexend text-center",children:"BOOKING"}),e.jsx("div",{className:"w-32 sm:w-40 md:w-44 lg:w-48 xl:w-50 2xl:w-50 h-[1px] bg-olive mt-4 sm:mt-5 md:mt-6 lg:mt-6 xl:mt-6 2xl:mt-6",style:{opacity:.5}})]}),e.jsx("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12 2xl:px-12 mb-6 sm:mb-7 md:mb-8 lg:mb-8 xl:mb-8 2xl:mb-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 md:gap-4 lg:gap-5 xl:gap-6 2xl:gap-6",children:Ge.map((r,N)=>e.jsx("button",{className:`border-2 p-3 sm:p-4 md:p-4 lg:p-5 xl:p-6 2xl:p-7 font-lexend font-light text-xs sm:text-sm md:text-sm lg:text-base xl:text-lg 2xl:text-xl transition-all duration-300 cursor-pointer hover:scale-[1.02] ${y===r.status?r.activeColor:r.color}`,onClick:()=>$(r.status),children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("span",{className:"leading-tight",children:r.label.split(`
`).map((m,R)=>e.jsxs($e.Fragment,{children:[m,e.jsx("br",{})]},R))}),e.jsx("span",{className:"mt-1 sm:mt-2 md:mt-2 lg:mt-3 xl:mt-3 2xl:mt-4 text-lg sm:text-xl md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl font-bold tracking-wide",children:h[r.status]})]})},r.label))})}),e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12 2xl:px-12 relative",children:[e.jsx("div",{className:"mb-4 sm:mb-5 md:mb-6 lg:mb-6 xl:mb-6 2xl:mb-6"}),e.jsx(We,{status:y,onReservationUpdate:L,endpointPrefix:"/staff",timeSlots:_,systemSettings:b}),e.jsx("button",{onClick:H,className:"fixed bottom-4 sm:bottom-6 md:bottom-6 lg:bottom-4 xl:bottom-4 2xl:bottom-4 right-4 sm:right-6 md:right-6 lg:right-4 xl:right-4 2xl:right-4 w-12 h-12 sm:w-14 sm:h-14 md:w-15 md:h-15 lg:w-16 lg:h-16 xl:w-16 xl:h-16 2xl:w-16 2xl:h-16 bg-olive text-beige rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 flex items-center justify-center z-50",title:"Download Reservations PDF",children:e.jsx(Pe,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-7 md:h-7 lg:w-8 lg:h-8 xl:w-8 xl:h-8 2xl:w-8 2xl:h-8"})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 sm:p-4 md:p-4 lg:p-4 xl:p-4 2xl:p-4",children:e.jsxs("div",{className:"bg-white rounded-none p-4 sm:p-5 md:p-6 lg:p-7 xl:p-8 2xl:p-8 max-w-sm sm:max-w-sm md:max-w-md lg:max-w-md xl:max-w-md 2xl:max-w-md w-full mx-2 sm:mx-3 md:mx-4 lg:mx-4 xl:mx-4 2xl:mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-5 md:mb-6 lg:mb-6 xl:mb-6 2xl:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-2xl lg:text-3xl xl:text-3xl 2xl:text-3xl font-lexend font-light text-olive",children:"Download Reservations"}),e.jsx("button",{onClick:z,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Be,{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-6 lg:h-6 xl:w-6 xl:h-6 2xl:w-6 2xl:h-6"})})]}),e.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 lg:mb-6 xl:mb-6 2xl:mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-3 sm:mb-4 md:mb-4 lg:mb-4 xl:mb-4 2xl:mb-4 text-sm sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-base",children:"Select a date to download reservations PDF"}),e.jsxs("div",{className:"mb-3 sm:mb-4 md:mb-4 lg:mb-4 xl:mb-4 2xl:mb-4",children:[e.jsx("label",{className:"block text-xs sm:text-sm md:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-medium text-gray-700 mb-1 sm:mb-2 md:mb-2 lg:mb-2 xl:mb-2 2xl:mb-2",children:"Month:"}),e.jsx("select",{value:n,onChange:r=>D(Number(r.target.value)),className:"w-full p-2 sm:p-2 md:p-3 lg:p-3 xl:p-3 2xl:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-olive focus:border-transparent text-sm sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-base",children:Y.map((r,N)=>e.jsx("option",{value:N,children:r},N))})]}),e.jsxs("div",{className:"mb-3 sm:mb-4 md:mb-4 lg:mb-4 xl:mb-4 2xl:mb-4",children:[e.jsx("label",{className:"block text-xs sm:text-sm md:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-medium text-gray-700 mb-1 sm:mb-2 md:mb-2 lg:mb-2 xl:mb-2 2xl:mb-2",children:"Day:"}),e.jsx("select",{value:w,onChange:r=>I(Number(r.target.value)),className:"w-full p-2 sm:p-2 md:p-3 lg:p-3 xl:p-3 2xl:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-olive focus:border-transparent text-sm sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-base",children:Array.from({length:O(n,M)},(r,N)=>N+1).map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsx("div",{className:"bg-gray-50 p-3 sm:p-3 md:p-4 lg:p-4 xl:p-4 2xl:p-4 rounded-lg",children:e.jsxs("p",{className:"text-xs sm:text-sm md:text-sm lg:text-sm xl:text-sm 2xl:text-sm text-gray-600",children:[e.jsx("strong",{children:"Selected Date:"})," ",Y[n]," ",w,", ",M]})})]}),e.jsx("div",{className:"mb-4 sm:mb-5 md:mb-6 lg:mb-6 xl:mb-6 2xl:mb-6",children:e.jsxs("p",{className:"text-gray-700 font-medium text-sm sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-base",children:["Will you download the PDF of reservations for ",Y[n]," ",w,", ",M,"?"]})}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 md:gap-3 lg:gap-3 xl:gap-3 2xl:gap-3",children:[e.jsx("button",{onClick:z,className:"flex-1 px-3 py-3 sm:px-3 sm:py-3 md:px-4 md:py-4 lg:px-4 lg:py-4 xl:px-4 xl:py-4 2xl:px-4 2xl:py-4 border border-gray-300 text-gray-700 rounded-none hover:bg-gray-50 transition-colors font-lexend text-sm sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-base",children:"Cancel"}),e.jsx("button",{onClick:P,disabled:u,className:"flex-1 px-3 py-3 sm:px-3 sm:py-3 md:px-4 md:py-4 lg:px-4 lg:py-4 xl:px-4 xl:py-4 2xl:px-4 2xl:py-4 bg-olive text-beige rounded-none hover:bg-olive-dark transition-colors font-lexend disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-base",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-3 sm:w-3 md:h-4 md:w-4 lg:h-4 lg:w-4 xl:h-4 xl:w-4 2xl:h-4 2xl:w-4 border-b-2 border-beige mr-2"}),e.jsx("span",{className:"text-xs sm:text-xs md:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"Downloading..."})]}):"Download PDF"})]})]})})]})};export{mt as default};
